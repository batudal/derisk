<div id="modal-container" class="w-full h-full backdrop-blur-sm flex items-center justify-center fixed top-0 z-20" _="on closeModal remove me
  init celebrate()">
  <div class="w-full h-full absolute z-20" _="on click trigger closeModal"></div>
  <div class="flex flex-col bg-derisk-950 z-30 gap-7 p-14 border border-derisk-800 rounded-md items-center">
    <div class="flex flex-col gap-3 items-center">
      <div class="py-1.5 px-2 bg-green-900/50 font-medium text-xs text-green-400 rounded-md">
        Early Access</div>
      <h2 class="text-derisk-100 text-xl font-semibold">Thank you for your feedback</h2>
      {{if .Subscribed}}
      <p class="text-sm text-derisk-200 max-w-[360px] text-center">You can also reach me direct on Twitter. I'm all
        about
        building in public and supporting innovators.</p>
      {{else}}
      <p class="text-sm text-derisk-200 max-w-[360px] text-center">Looks like you're not subscribed to waitlist. You
        are
        missing out starting early with De-Risk.</p>
      {{end}}
    </div>
    <div class="flex flex-col gap-3">
      {{if .Subscribed}}
      <button type="button" class="flex flex-row items-center bg-derisk-100 rounded-md px-3 py-1.5 cursor-pointer no-underline hover:underline
        hover:underline-offset-2 active:bg-derisk-150 text-derisk-950 text-sm h-8 font-semibold
          whitespace-nowrap" _="on click trigger closeModal">
        Go to home page
      </button>
      {{else}}
      <form hx-post="/join/wait-list?left_feedback=true" hx-target="#modal-container" hx-swap="outerHTML">
        <input type="email" name="email" value="{{.Email}}" hidden />
        <input type="text" name="customer_type" value="{{.CustomerType}}" hidden />
        <button type="submit" class="flex flex-row items-center bg-derisk-100 rounded-md px-3 py-1.5 cursor-pointer no-underline hover:underline
        hover:underline-offset-2 active:bg-derisk-150 text-derisk-950 text-sm h-8 font-semibold
          whitespace-nowrap">
          Subscribe to waitlist
        </button>
      </form>
      {{end}}
    </div>
  </div>
</div>
<script>
  var count = 200;
  var defaults = {
    origin: {y: 0.7}
  };

  function fire(particleRatio, opts) {
    confetti(Object.assign({}, defaults, opts, {
      particleCount: Math.floor(count * particleRatio)
    }));
  }

  function celebrate() {
    fire(0.25, {
      spread: 26,
      startVelocity: 55,
    });
    fire(0.2, {
      spread: 60,
    });
    fire(0.35, {
      spread: 100,
      decay: 0.91,
      scalar: 0.8
    });
    fire(0.1, {
      spread: 120,
      startVelocity: 25,
      decay: 0.92,
      scalar: 1.2
    });
    fire(0.1, {
      spread: 120,
      startVelocity: 45,
    });
  }
</script>
